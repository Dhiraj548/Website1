<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="birthApp.css">
</head>

<body>
    <div class="sidebar">
        <!-- it is for homepage content -->
        <div class="one">
            <h2>Homepage</h2>
            <a href="#" class="Telegram">Support Telegram</a>
            <a href="#" class="join-telegram">Join Channel</a>
        </div>
        <!-- it is for payments content -->
        <div class="two">
            <a href="/dashboard" class="dashboard">Dashboard</a>
            <hr>
            <h3>Payments</h3>
            <select name="#" id="after">
                <option value="/wallet">Wallet Manage</option>
                <option value="/addMoney">Add Money QR Scen</option>
                <option value="/manualAddMoney">Manual Fund Request</option>
            </select>
            <a href="view transactions.html">View Transactions</a>
        </div>
        <hr>

        <!-- it is for services content -->
        <div class="three">
            <h3>Services</h3>
            <select name="#" id="before" onchange="location = this.value;">
                <option value="/birthCert">Birth Certificate</option>
                <option value="/birthApp" selected>Birth Application</option>
                <option value="/birthList">Birth List</option>
            </select>
        </div>
        <br>
        <hr>

        <!-- it is for website content -->
        <div class="four">
            <h3>Website</h3>
            <a href="/news" class="view-news">View News</a>
        </div>
        <hr>

        <!-- it is for profile content -->
        <div class="five">
            <h3>PROFILE</h3>
            <a href="view profile.html">View Profile</a>
            <a href="edit profile.html">Edit profle</a>
            <a href="logout.html">Logout</a>
        </div>
    </div>
    <div class="content">
        <div class="roof">
            <div class="box">
                <div class="bgr">
                    <?xml version="1.0" encoding="iso-8859-1"?>
                    <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                    <svg fill="#000000" height="20px" width="50px" version="1.1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512.003 512.003" xml:space="preserve" style="margin: 18px 5px;">
                    <g>
                        <g>
                            <path d="M491.584,192.579l-55.918-6.914c-0.919-2.351-1.884-4.682-2.892-6.993l34.648-44.428
                            c7.227-9.267,6.412-22.464-1.899-30.773l-57.028-56.996c-8.308-8.304-21.502-9.114-30.763-1.893L333.32,79.216
                            c-2.312-1.008-4.644-1.974-6.994-2.894l-6.915-55.904c-1.443-11.66-11.348-20.415-23.097-20.415h-80.637
                            c-11.748,0-21.656,8.755-23.097,20.416l-6.914,55.904c-2.349,0.919-4.681,1.884-6.988,2.89l-44.415-34.642
                            c-9.261-7.222-22.458-6.414-30.768,1.894l-57.021,57.009c-8.31,8.307-9.123,21.506-1.896,30.771l34.644,44.417
                            c-1.012,2.312-1.978,4.647-2.9,7.002l-55.906,6.914C8.757,194.022,0,203.927,0,215.676v80.64c0,11.75,8.758,21.658,20.421,23.097
                            l55.901,6.903c0.919,2.352,1.884,4.686,2.894,6.994l-34.641,44.417c-7.224,9.264-6.411,22.46,1.894,30.767l57.021,57.031
                            c8.307,8.31,21.507,9.121,30.773,1.896l44.417-34.648c2.306,1.007,4.638,1.974,6.987,2.891l6.914,55.921
                            c1.441,11.66,11.348,20.416,23.097,20.416h80.637c11.748,0,21.655-8.755,23.097-20.416l6.915-55.92
                            c2.351-0.92,4.682-1.885,6.993-2.892l44.425,34.65c9.266,7.225,22.463,6.414,30.771-1.898l57.015-57.031
                            c8.307-8.308,9.117-21.504,1.893-30.768l-34.641-44.409c1.012-2.313,1.978-4.647,2.898-7.002l55.901-6.903
                            c11.661-1.44,20.421-11.348,20.421-23.097v-80.64C512,203.927,503.243,194.022,491.584,192.579z M465.455,275.74l-49.864,6.158
                            c-9.151,1.131-16.772,7.556-19.431,16.386c-2.813,9.337-6.56,18.387-11.138,26.903c-4.367,8.124-3.525,18.063,2.147,25.335
                            l30.898,39.613l-27.924,27.932l-39.621-30.905c-7.269-5.668-17.202-6.513-25.327-2.15c-8.513,4.572-17.565,8.319-26.905,11.134
                            c-8.827,2.661-15.25,10.279-16.381,19.427l-6.169,49.883h-39.492l-6.167-49.883c-1.131-9.146-7.551-16.763-16.375-19.425
                            c-9.367-2.825-18.417-6.571-26.899-11.132c-8.122-4.369-18.061-3.527-25.336,2.147l-39.615,30.902L93.929,390.13l30.897-39.618
                            c5.671-7.273,6.513-17.206,2.147-25.328c-4.568-8.501-8.315-17.554-11.137-26.911c-2.662-8.825-10.282-15.247-19.43-16.376
			l-49.861-6.156v-39.492l49.866-6.167c9.146-1.131,16.763-7.551,19.423-16.375c2.824-9.356,6.572-18.406,11.143-26.9
			c4.374-8.124,3.533-18.067-2.143-25.342l-30.903-39.62l27.924-27.918l39.62,30.902c7.273,5.672,17.209,6.513,25.335,2.146
			c8.493-4.565,17.541-8.31,26.896-11.132c8.825-2.662,15.247-10.279,16.378-19.427l6.166-49.867h39.494l6.169,49.869
			c1.133,9.148,7.557,16.767,16.384,19.427c9.328,2.811,18.379,6.557,26.902,11.135c8.122,4.364,18.055,3.522,25.325-2.149
			l39.616-30.894l27.927,27.912l-30.897,39.618c-5.666,7.267-6.513,17.191-2.158,25.311c4.58,8.54,8.328,17.599,11.138,26.923
			c2.661,8.825,10.279,15.248,19.427,16.381l49.878,6.169V275.74z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M255.997,155.153c-55.606,0-100.845,45.244-100.845,100.856c0,55.603,45.239,100.839,100.845,100.839
			c55.609,0,100.852-45.236,100.852-100.839C356.849,200.397,311.606,155.153,255.997,155.153z M255.997,310.303
			c-29.941,0-54.3-24.356-54.3-54.294c0-29.947,24.359-54.311,54.3-54.311c29.944,0,54.306,24.363,54.306,54.311
			C310.303,285.947,285.941,310.303,255.997,310.303z" />
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="cgr">
                    <select name="#" id="guitar">
                        <option value="">EN</option>
                        <option value="#">EV</option>
                        <option value="#">AB</option>
                        <option value="#">AQ</option>
                    </select>
                </div>
            </div>
            <div class="bofd">
                <span><span id="name">Hello</span>
                    <select name="#" id="miq">
                        <option value="#">My Profile</option>
                        <option value="#">My Balance</option>
                        <option value="#">Edit Profile</option>
                        <option value="#">Logout</option>
                    </select>
                </span>
            </div>
        </div>
        <hr class="hr">
        <h1 id="welcome">Welcome!</h1>
        <div class="container1">
            <h2>Birth Certificate Apply</h2>
            <form id="birthApp">
                <div class="form-group">
                    <label for="name">नाम / Full Name</label>
                    <input type="text" id="name" name="name" placeholder="ENTER FULL NAME">
                </div>
                <div class="form-group">
                    <label for="aadharNo">आधार नंबर / Aadhaar Number</label>
                    <input type="text" id="aadharNo" name="aadharNo" placeholder="Aadhar Number">
                </div>
                <div class="form-group">
                    <label for="gender">लिंग / Gender</label>
                    <select id="gender" name="gender">
                        <option>Select Gender</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="DOB">जन्म तिथि / DATE OF BIRTH</label>
                    <input type="date" id="DOB" name="DOB" placeholder="12-03-2020">
                </div>
                <div class="form-group">
                    <label for="placeOfBirth">जन्म स्थान / PLACE OF BIRTH</label>
                    <input type="text" id="placeOfBirth" name="placeOfBirth" placeholder="PLACE OF BIRTH">
                </div>
                <div class="form-group">
                    <label for="fathersName">पिता का नाम / Father Name</label>
                    <input type="text" id="fathersName" name="fathersName" placeholder="FATHER'S NAME">
                </div>
                <div class="form-group">
                    <label for="fathersAadharNo">पिता का आधार / Father Aadhaar</label>
                    <input type="text" id="fathersAadharNo" name="fathersAadharNo" placeholder="FATHER'S AADHAR">
                </div>
                <div class="form-group">
                    <label for="mothersName">माता का नाम / Mother Name</label>
                    <input type="text" id="mothersName" name="mothersName" placeholder="MOTHER'S NAME">
                </div>
                <div class="form-group">
                    <label for="mothersAadharNo">माता का आधार / Mother Aadhaar</label>
                    <input type="text" id="mothersAadharNo" name="mothersAadharNo" placeholder="MOTHER'S AADHAR">
                </div>
                <div class="form-group">
                    <label for="permanentNo">स्थायी पता / Permanent Address</label>
                    <input type="text" id="permanentNo" name="permanentNo" placeholder="PERMANENT ADDRESS">
                </div>
                <div class="form-group">
                    <label for="birthAddress">जन्म के समय पता / Address at time of Birth</label>
                    <input type="text" id="birthAddress" name="birthAddress" placeholder="ADDRESS OF BIRTH">
                </div>
                <div class="form-group">
                    <label for="state">Select State</label>
                    <select id="state" name="state">
                        <option>Select State</option>
                        <option>State 1</option>
                        <option>State 2</option>
                        <option>State 3</option>
                        <option>State 4</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="hospital">Hospital</label>
                    <select id="hospital" name="hospital">
                        <option>Select Hospital</option>
                        <option>Hospital 1</option>
                        <option>Hospital 2</option>
                        <option>Hospital 3</option>
                    </select>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit">Submit</button>
                </div>
            </form>
        </div>

    </div>
    <script>
        document.getElementById('before').addEventListener('change', function() {
            window.location.href = this.value;
        });
        document.getElementById('after').addEventListener('change', (event) => {
            window.location.href = event.target.value;
        });

        fetch('/profile', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('name').innerHTML = `Hello, ${data.user.username}`;
            document.getElementById('welcome').innerHTML = `Welcome, ${data.user.username}!`;
        })
        .catch(error => console.error('Error:', error));
        document.getElementById('birthApp').addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = Object.fromEntries(new FormData(event.target));
            console.log(formData);
            try {
            const response = await fetch('/birthApp', {
                method: 'POST',
                headers: {
                'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                type: 'birthApplication',
                details: formData
                })
            });
            const data = await response.json();
            if (response.ok) {
                alert('Form submitted successfully!');
            } else {
                alert('Failed to submit form: ' + data.message);
            }
            } catch (error) {
            console.error('Error:', error);
            alert('An error occurred while submitting the form.');
            }
        });
    </script>
</body>

</html>